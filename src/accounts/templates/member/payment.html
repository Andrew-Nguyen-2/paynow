{% extends 'member_base.html' %}
{% block content %}
<div style="margin: 25px 625px; width: 100%">
    <p style="font-family: 'Microsoft Sans Serif',serif; font-size: 50px;
    font-style: italic; color: #0d8dcb; font-weight: 900">
        Payment
    </p>
</div>
<div class="row justify-content-center">
    <div class="card text-white bg-secondary mb-3 text-center" style="width: 18rem; height: 13rem">
        <div class="card-header">Amount Owed</div>
      <div class="card-body">
        <h6 class="card-title">Total Outstanding Balance</h6>
        <p class="card-text">$ {{ amount }}</p>
        <a href="../make_payment/" class="btn btn-primary">$ Make a Payment</a>
      </div>
    </div>
    <div id="container" style="width: 50%">
        <canvas id="pie-chart"></canvas>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
      <script>
        var config = {
          type: 'pie',
          data: {
            datasets: [{
              data: [{{ user.amount_owed }}, {{ user.amount_paid }}],
              backgroundColor: [
                '#ff0000', '#228B22'
              ],
              label: 'Amount'
            }],
            labels: ['Amount Owed', 'Amount Paid']
          },
          options: {
            responsive: true
          }
        };

        window.onload = function() {
          var ctx = document.getElementById('pie-chart').getContext('2d');
          window.myPie = new Chart(ctx, config);
        };
      </script>
</div>
<br>
<br>
<br>
{% endblock %}
